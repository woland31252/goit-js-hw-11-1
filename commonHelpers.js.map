{"version":3,"file":"commonHelpers.js","sources":["../src/JS/pixabay-api.js","../src/JS/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nconst ENDPOINT = 'https://pixabay.com/api/';\nconst KEY = '33796051-1e422d07d8c9fc912bc2a7eb4';\nconst param =\n  'per_page=40&image_type=photo&orientation=horyzontal&safesearch=true';\n\nconst search = '';\n\nfunction fetchGetImg() {\n  fetch ()\n}\nexport default class ImageApiService {\n  constructor() {\n    this.page = 1;\n    this.search = '';\n  }\n  getImage() {\n    const URL = `${ENDPOINT}?key=${KEY}&q=${this.search}&page=${this.page}&${param}`;\n    const response = axios.get(URL)\n\n    // this.nextPage();\n\n    return response.data;\n  }\n  // nextPage() {\n  //   this.page += 1;\n  // }\n  resetPage() {\n    this.page = 1;\n  }\n}","export default function createMarkup({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `<div class=\"photo-card\">\n  <a class = \"gallery__link\" href=\"${largeImageURL}\">\n  <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes</b>\n      ${likes}\n    </p>\n    <p class=\"info-item\">\n      <b>Views</b>\n      ${views}\n    </p>\n    <p class=\"info-item\">\n      <b>Comments</b>\n      ${comments}\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads</b>\n      ${downloads}\n    </p>\n  </div>\n  </a>\n</div>`;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport ImageApiService from './JS/pixabay-api.js';\nimport createMarkup from './JS/render-functions.js';\n\n\n// Notiflix.Notify.init({\n//   width: '600px',\n//   position: 'center-top',\n//   distance: '220px',\n//   fontSize: '36px',\n// });\n\nconst form = document.getElementById('search-form');\nconst gallery = document.querySelector('.gallery');\n\nconst imageApiService = new ImageApiService();\n// const loadMoreBtn = new LoadMoreBtn({\n//   selector: '.load-more',\n//   isHidden: true,\n// });\n\nform.addEventListener('submit', onSubmit);\n// loadMoreBtn.button.addEventListener('click', fetchHits);\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  const form = event.target;\n  const value = form.elements.searchQuery.value.trim();\n  imageApiService.search = value;\n  if (value === '') {\n    // Notiflix.Notify.info('Please formulate a request');\n    return;\n  }\n  imageApiService.resetPage();\n  clearList();\n//   loadMoreBtn.show();\n  fetchHits()\n  form.reset();\n}\n\nfunction fetchHits() {\n//   loadMoreBtn.disable();\n  try {\n    const data = imageApiService.getImage();\n    const hits = data.hits;\n    if (hits.length === 0) {\n      throw new Error('Data not found.');\n    } else {\n    //   Notiflix.Notify.success(`Hooray! We found ${data.totalHits} images.`, {\n    //     width: '300px',\n    //     position: 'right-top',\n    //     distance: '60px',\n    //     fontSize: '16px',\n    //   });\n    }\n    const markup = hits.reduce((markup, hit) => createMarkup(hit) + markup, '');\n    appendToList(markup);\n    // loadMoreBtn.enable();\n  } catch (err) {\n    onError(err);\n  }\n}\n\nfunction appendToList(markup) {\n  gallery.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}\n\n// function createMarkup({\n//   webformatURL,\n//   largeImageURL,\n//   tags,\n//   likes,\n//   views,\n//   comments,\n//   downloads,\n// }) {\n//   return `<div class=\"photo-card\">\n//   <a class = \"gallery__link\" href=\"${largeImageURL}\">\n//   <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n//   <div class=\"info\">\n//     <p class=\"info-item\">\n//       <b>Likes</b>\n//       ${likes}\n//     </p>\n//     <p class=\"info-item\">\n//       <b>Views</b>\n//       ${views}\n//     </p>\n//     <p class=\"info-item\">\n//       <b>Comments</b>\n//       ${comments}\n//     </p>\n//     <p class=\"info-item\">\n//       <b>Downloads</b>\n//       ${downloads}\n//     </p>\n//   </div>\n//   </a>\n// </div>`;\n// }\n\nfunction clearList() {\n  gallery.innerHTML = '';\n}\n\nfunction onError(err) {\n  console.error(err);\n//   loadMoreBtn.hide();\n//   Notiflix.Notify.failure(\n//     'Sorry, there are no images matching your search query. Please try again'\n//   );\n}\n\nconst lightbox = new SimpleLightbox('.gallery a');"],"names":["ENDPOINT","KEY","param","ImageApiService","URL","axios","createMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","gallery","imageApiService","onSubmit","event","value","clearList","fetchHits","hits","markup","hit","appendToList","err","onError","lightbox","SimpleLightbox"],"mappings":"6vBACA,MAAMA,EAAW,2BACXC,EAAM,qCACNC,EACJ,sEAOa,MAAMC,CAAgB,CACnC,aAAc,CACZ,KAAK,KAAO,EACZ,KAAK,OAAS,EACf,CACD,UAAW,CACT,MAAMC,EAAM,GAAGJ,CAAQ,QAAQC,CAAG,MAAM,KAAK,MAAM,SAAS,KAAK,IAAI,IAAIC,CAAK,GAK9E,OAJiBG,EAAM,IAAID,CAAG,EAId,IACjB,CAID,WAAY,CACV,KAAK,KAAO,CACb,CACH,CC9Be,SAASE,EAAa,CACnC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA,qCAC4BL,CAAa;AAAA,cACpCD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,QAIhCC,CAAK;AAAA;AAAA;AAAA;AAAA,QAILC,CAAK;AAAA;AAAA;AAAA;AAAA,QAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,QAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,OAKjB,CCjBA,MAAMC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAkB,IAAIb,EAM5BW,EAAK,iBAAiB,SAAUG,CAAQ,EAGxC,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpB,MAAMJ,EAAOI,EAAM,OACbC,EAAQL,EAAK,SAAS,YAAY,MAAM,OAC9CE,EAAgB,OAASG,EACrBA,IAAU,KAIdH,EAAgB,UAAS,EACzBI,IAEAC,EAAW,EACXP,EAAK,MAAK,EACZ,CAEA,SAASO,GAAY,CAEnB,GAAI,CAEF,MAAMC,EADON,EAAgB,WACX,KAClB,GAAIM,EAAK,SAAW,EAClB,MAAM,IAAI,MAAM,iBAAiB,EASnC,MAAMC,EAASD,EAAK,OAAO,CAACC,EAAQC,IAAQlB,EAAakB,CAAG,EAAID,EAAQ,EAAE,EAC1EE,EAAaF,CAAM,CAEpB,OAAQG,EAAK,CACZC,EAAQD,CAAG,CACZ,CACH,CAEA,SAASD,EAAaF,EAAQ,CAC5BR,EAAQ,mBAAmB,YAAaQ,CAAM,EAC9CK,EAAS,QAAO,CAClB,CAoCA,SAASR,GAAY,CACnBL,EAAQ,UAAY,EACtB,CAEA,SAASY,EAAQD,EAAK,CACpB,QAAQ,MAAMA,CAAG,CAKnB,CAEA,MAAME,EAAW,IAAIC,EAAe,YAAY"}