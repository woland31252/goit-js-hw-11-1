{"version":3,"file":"commonHelpers.js","sources":["../src/JS/pixabay-api.js","../src/JS/render-functions.js","../src/main.js"],"sourcesContent":["// import axios from 'axios';\nconst ENDPOINT = 'https://pixabay.com/api/';\nconst KEY = '33796051-1e422d07d8c9fc912bc2a7eb4';\nconst param =\n  'per_page=40&image_type=photo&orientation=horyzontal&safesearch=true';\n\n\nexport default function ImageApiService(search) {\n  const URL = `${ENDPOINT}?key=${KEY}&q=${search}&${param}`;\n  return fetch(URL).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","export default function createMarkup({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `<div class=\"photo-card\">\n  <a class = \"gallery__link\" href=\"${largeImageURL}\">\n  <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes</b>\n      ${likes}\n    </p>\n    <p class=\"info-item\">\n      <b>Views</b>\n      ${views}\n    </p>\n    <p class=\"info-item\">\n      <b>Comments</b>\n      ${comments}\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads</b>\n      ${downloads}\n    </p>\n  </div>\n  </a>\n</div>`;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport ImageApiService from './JS/pixabay-api.js';\nimport createMarkup from './JS/render-functions.js';\n\n\n\nconst form = document.getElementById('search-form');\nconst gallery = document.querySelector('.gallery');\n\n\nform.addEventListener('submit', onSubmit);\n\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  let inputValue = '';\n  const form = event.target;\n  console.log(form)\n  inputValue = form.elements.searchQuery.value.trim();\n  if (inputValue === '') {\n    iziToast.info({\n      title: 'Warning',\n      message: 'Please formulate a request',\n      position: 'topRight',\n      titleColor: 'blue',\n      titleSize: '24px',\n    });\n    return;\n  }\n  ImageApiService(inputValue)\n    .then(elem => fetchHits(elem))\n    .catch(err => onError(err))\n    .finally(() => form.reset());\n  clearList();\n}\n\nfunction fetchHits(elem) {\n\n    const hits = elem.hits;\n    if (hits.length === 0) {\n      iziToast.warning({\n        title: 'Failure',\n        titleColor: 'red',\n        titleSize: '24px',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n      return\n    } else {\n        const markup = hits.reduce(\n        (markup, hit) => createMarkup(hit) + markup,\n        ''\n      );\n      appendToList(markup);\n    }\n}\n\nfunction appendToList(markup) {\n  gallery.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}\n\nfunction clearList() {\n  gallery.innerHTML = '';\n}\n\nfunction onError(err) {\n  console.error(err);\n}\n\nconst lightbox = new SimpleLightbox('.gallery a');"],"names":["ENDPOINT","KEY","param","ImageApiService","search","URL","response","createMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","gallery","onSubmit","event","inputValue","iziToast","elem","fetchHits","err","onError","clearList","hits","markup","hit","appendToList","lightbox","SimpleLightbox"],"mappings":"6vBACA,MAAMA,EAAW,2BACXC,EAAM,qCACNC,EACJ,sEAGa,SAASC,EAAgBC,EAAQ,CAC9C,MAAMC,EAAM,GAAGL,CAAQ,QAAQC,CAAG,MAAMG,CAAM,IAAIF,CAAK,GACvD,OAAO,MAAMG,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCfe,SAASC,EAAa,CACnC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA,qCAC4BL,CAAa;AAAA,cACpCD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,QAIhCC,CAAK;AAAA;AAAA;AAAA;AAAA,QAILC,CAAK;AAAA;AAAA;AAAA;AAAA,QAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,QAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,OAKjB,CCvBA,MAAMC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAGjDD,EAAK,iBAAiB,SAAUE,CAAQ,EAGxC,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpB,IAAIC,EAAa,GACjB,MAAMJ,EAAOG,EAAM,OAGnB,GAFA,QAAQ,IAAIH,CAAI,EAChBI,EAAaJ,EAAK,SAAS,YAAY,MAAM,KAAI,EAC7CI,IAAe,GAAI,CACrBC,EAAS,KAAK,CACZ,MAAO,UACP,QAAS,6BACT,SAAU,WACV,WAAY,OACZ,UAAW,MACjB,CAAK,EACD,MACD,CACDjB,EAAgBgB,CAAU,EACvB,KAAKE,GAAQC,EAAUD,CAAI,CAAC,EAC5B,MAAME,GAAOC,EAAQD,CAAG,CAAC,EACzB,QAAQ,IAAMR,EAAK,MAAK,CAAE,EAC7BU,GACF,CAEA,SAASH,EAAUD,EAAM,CAErB,MAAMK,EAAOL,EAAK,KAClB,GAAIK,EAAK,SAAW,EAAG,CACrBN,EAAS,QAAQ,CACf,MAAO,UACP,WAAY,MACZ,UAAW,OACX,QACE,2EACF,SAAU,UAClB,CAAO,EACD,MACN,KAAW,CACH,MAAMO,EAASD,EAAK,OACpB,CAACC,EAAQC,IAAQrB,EAAaqB,CAAG,EAAID,EACrC,EACR,EACME,EAAaF,CAAM,CACpB,CACL,CAEA,SAASE,EAAaF,EAAQ,CAC5BX,EAAQ,mBAAmB,YAAaW,CAAM,EAC9CG,EAAS,QAAO,CAClB,CAEA,SAASL,GAAY,CACnBT,EAAQ,UAAY,EACtB,CAEA,SAASQ,EAAQD,EAAK,CACpB,QAAQ,MAAMA,CAAG,CACnB,CAEA,MAAMO,EAAW,IAAIC,EAAe,YAAY"}